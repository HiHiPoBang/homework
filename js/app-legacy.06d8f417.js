(function(){"use strict";var t={5794:function(t,e,o){o(6992),o(8674),o(9601),o(7727);var n=o(8935),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"App",attrs:{id:"app"}},[t._m(0),o("main",{staticClass:"App__main"},[o("food-introduction",{staticClass:"App__foodIntroduction"}),o("advertisement-block",{staticClass:"App__advertisementBlock"})],1),o("BaseFooter",{staticClass:"App__footer"})],1)},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",[o("h1",{staticClass:"App__title"},[t._v("農村地方美食小吃特色料理")])])}],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"FoodIntroduction"},[o("div",{staticClass:"FoodIntroduction__featureBar"},[o("div",{staticClass:"FoodIntroduction__selectGroup"},[o("base-select",{staticClass:"FoodIntroduction__select",attrs:{options:t.cityOptions,placeholder:"請選擇行政區域..."},on:{change:t.cityChangeHandler}}),o("base-select",{staticClass:"FoodIntroduction__select",attrs:{options:t.townOptions,placeholder:"請選擇鄉鎮區域..."},on:{change:function(e){t.currentTown=e}}})],1),o("div",{staticClass:"FoodIntroduction__modeTypes"},[o("label",{staticClass:"FoodIntroduction__modeLabel"},[t._v("檢視模式")]),o("button",{staticClass:"FoodIntroduction__modeButton",class:{"FoodIntroduction__modeButton--active":t.mode===t.MODE_TYPE_MAP.list},on:{click:function(e){return t.changeMode(t.MODE_TYPE_MAP.list)}}},[o("font-awesome-icon",{attrs:{icon:"fa-solid fa-list"}})],1),o("button",{staticClass:"FoodIntroduction__modeButton",class:{"FoodIntroduction__modeButton--active":t.mode===t.MODE_TYPE_MAP.table},on:{click:function(e){return t.changeMode(t.MODE_TYPE_MAP.table)}}},[o("font-awesome-icon",{attrs:{icon:"fa-solid fa-bars"}})],1),o("button",{staticClass:"FoodIntroduction__modeButton",class:{"FoodIntroduction__modeButton--active":t.mode===t.MODE_TYPE_MAP.card},on:{click:function(e){return t.changeMode(t.MODE_TYPE_MAP.card)}}},[o("font-awesome-icon",{attrs:{icon:"fa-solid fa-table-cells-large"}})],1)])]),o("div",{staticClass:"FoodIntroduction__introContainter"},[t.mode===t.MODE_TYPE_MAP.list?o("food-list",{staticClass:"FoodIntroduction__intro FoodIntroduction__intro--list",attrs:{list:t.listForRender}}):t.mode===t.MODE_TYPE_MAP.table?o("food-table",{staticClass:"FoodIntroduction__intro FoodIntroduction__intro--table",attrs:{list:t.listForRender}}):o("food-card-group",{staticClass:"FoodIntroduction__intro FoodIntroduction__intro--card",attrs:{list:t.listForRender}})],1),o("base-pagination",{staticClass:"FoodIntroduction__basePagination",attrs:{size:t.pageSize,total:t.listAfterFilter.length,currentPage:t.currentPage},on:{"change-page":function(e){t.currentPage=e.page}}}),o("loading-block",{attrs:{isLoading:t.isLoading}})],1)},i=[],l=o(6198),c=o(3019),u=(o(8975),o(1539),o(4553),o(9826),o(7327),o(1249),o(1703),o(81)),d=o(6978),_=o(9009),f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("select",{directives:[{name:"model",rawName:"v-model",value:t.selectValue,expression:"selectValue"}],staticClass:"BaseSelect",on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectValue=e.target.multiple?o:o[0]},function(e){return t.$emit("change",t.selectValue)}]}},[o("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(t.placeholder))]),t._l(t.options,(function(e){return o("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])}))],2)},p=[],v={props:{placeholder:{type:String,default:"Choose"},options:{type:Array,default:function(){return[]}}},data:function(){return{selectValue:""}},watch:{options:function(){this.selectValue=""}}},h=v,m=o(1001),C=(0,m.Z)(h,f,p,!1,null,"63f8894c",null),g=C.exports,b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"FoodList"},t._l(t.list,(function(e){return o("div",{key:e.ID,staticClass:"FoodList__row"},[o("div",{staticClass:"FoodList__thumbnail"},[o("img",{attrs:{src:e.PicURL,alt:e.Name}})]),o("section",{staticClass:"FoodList__section"},[o("h1",{staticClass:"FoodList__name"},[t._v(t._s(e.Name))]),o("CityLabel",{staticClass:"FoodList__city",attrs:{city:e.City}}),o("TownLabel",{staticClass:"FoodList__town",attrs:{town:e.Town}}),o("p",{staticClass:"FoodList__feature",domProps:{innerHTML:t._s(e.FoodFeature)}})],1)])})),0)},F=[],y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{staticClass:"CityLabel"},[t._v(t._s(t.city))])},w=[],T={props:{city:{type:String}}},P=T,L=(0,m.Z)(P,y,w,!1,null,"7c20094d",null),E=L.exports,I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{staticClass:"TownLabel"},[t._v(t._s(t.town))])},A=[],x={props:{town:{type:String}}},B=x,k=(0,m.Z)(B,I,A,!1,null,"578f28fc",null),O=k.exports,M={components:{CityLabel:E,TownLabel:O},props:{list:{type:Array,default:function(){return[]}}}},$=M,Z=(0,m.Z)($,b,F,!1,null,"514647c3",null),N=Z.exports,D=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("table",{staticClass:"FoodTable"},[t._m(0),o("tbody",{staticClass:"FoodTable__body"},t._l(t.list,(function(e){return o("tr",{key:e.ID,staticClass:"FoodTable__row"},[o("th",{staticClass:"FoodTable__col FoodTable__col--no"},[t._v(t._s(e.No))]),o("th",{staticClass:"FoodTable__col FoodTable__col--city"},[t._v(t._s(e.City))]),o("th",{staticClass:"FoodTable__col FoodTable__col--town"},[t._v(t._s(e.Town))]),o("th",{staticClass:"FoodTable__col FoodTable__col--name"},[t._v(t._s(e.Name))]),o("th",{staticClass:"FoodTable__col FoodTable__col--address",attrs:{"data-content":e.Address}},[o("span",[t._v(t._s(e.Address))])])])})),0)])},G=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",{staticClass:"FoodTable__header"},[o("tr",{staticClass:"FoodTable__row"},[o("th",{staticClass:"FoodTable__col FoodTable__col--no"},[t._v("編號")]),o("th",{staticClass:"FoodTable__col FoodTable__col--city"},[t._v("行政區域")]),o("th",{staticClass:"FoodTable__col FoodTable__col--town"},[t._v("鄉鎮區")]),o("th",{staticClass:"FoodTable__col FoodTable__col--name"},[t._v("商家")]),o("th",{staticClass:"FoodTable__col FoodTable__col--address"},[t._v("地址")])])])}],S={props:{list:{type:Array,default:function(){return[]}}}},j=S,Y=(0,m.Z)(j,D,G,!1,null,"5f3fb9d2",null),R=Y.exports,z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"FoodCardGroup"},t._l(t.list,(function(e){return o("div",{key:e.ID,staticClass:"FoodCardGroup__card"},[o("img",{staticClass:"FoodCardGroup__img",attrs:{src:e.PicURL,alt:e.Name}}),o("section",{staticClass:"FoodCardGroup__section"},[o("CityLabel",{staticClass:"FoodCardGroup__city",attrs:{city:e.City}}),o("TownLabel",{staticClass:"FoodCardGroup__town",attrs:{town:e.Town}}),o("h4",{staticClass:"FoodCardGroup__name"},[t._v(t._s(e.Name))]),o("p",{staticClass:"FoodCardGroup__feature",domProps:{innerHTML:t._s(e.FoodFeature)}})],1)])})),0)},H=[],V={components:{CityLabel:E,TownLabel:O},props:{list:{type:Array,default:function(){return[]}}}},U=V,J=(0,m.Z)(U,z,H,!1,null,"a27a5406",null),q=J.exports,K=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.totalPageNumber>0?o("div",{staticClass:"BasePagination"},[o("label",{staticClass:"BasePagination__label"},[t._v(t._s("美食頁次 "+t.currentPage+" / "+t.totalPageNumber))]),o("div",{staticClass:"BasePagination__pages"},t._l(t.totalPageNumber,(function(e){return o("button",{key:e,staticClass:"BasePagination__button",class:{"BasePagination__button--active":e===t.currentPage},on:{click:function(o){return t.pageChangeHandler(e)}}},[t._v(" "+t._s(e)+" ")])})),0)]):t._e()},Q=[],W=(o(9653),{props:{size:{type:Number,default:10,validator:function(t){return t>0}},total:{type:Number,default:1},currentPage:{type:Number,default:1}},computed:{totalPageNumber:function(){return this.total<=0?0:Math.ceil(this.total/this.size)}},methods:{pageChangeHandler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$emit("change-page",{page:t})}}}),X=W,tt=(0,m.Z)(X,K,Q,!1,null,"7d7df64e",null),et=tt.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLoading?n("div",{staticClass:"LoadingBlock"},[n("img",{attrs:{src:o(4940),width:"50px"}}),n("p",{staticClass:"LoadingBlock__desp"},[t._v("資料下載中，請稍等！")])]):t._e()},nt=[],at={props:{isLoading:{type:Boolean,default:!1}}},st=at,rt=(0,m.Z)(st,ot,nt,!1,null,"ce11b990",null),it=rt.exports;u.vI.add(d.Zrf,d.xiG,d.jJj);var lt={list:"list",table:"table",card:"card"},ct={components:{FontAwesomeIcon:_.GN,BaseSelect:g,FoodList:N,FoodTable:R,FoodCardGroup:q,BasePagination:et,LoadingBlock:it},data:function(){return{MODE_TYPE_MAP:lt,mode:lt.list,list:[],currentCity:null,currentTown:null,currentPage:1,pageSize:10,isLoading:!1}},computed:{cityOptions:function(){return this.list.reduce((function(t,e){var o=t.findIndex((function(t){var o=t.value;return o===e.City}));if(-1===o)t.push({value:e.City,text:e.City,towns:[{value:e.Town,text:e.Town}]});else{var n=-1!==t[o].towns.findIndex((function(t){var o=t.value;return o===e.Town}));n||t[o].towns.push({value:e.Town,text:e.Town})}return t}),[])},townOptions:function(){var t=this,e=this.cityOptions.find((function(e){var o=e.value;return o===t.currentCity}));return(null===e||void 0===e?void 0:e.towns)||[]},listAfterFilter:function(){var t=this,e=function(e){return e===t.currentCity},o=function(e){return!t.currentTown||e===t.currentTown},n=function(t){var n=t.City,a=t.Town;return e(n)&&o(a)};return this.currentCity?this.list.filter(n):this.list},listForRender:function(){var t=function(t,e){return(0,c.Z)((0,c.Z)({},t),{},{No:e+1})},e=(this.currentPage-1)*this.pageSize,o=e+this.pageSize,n=function(t,n){return n>=e&&n<o};return this.listAfterFilter.map(t).filter(n)}},methods:{changeMode:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.mode=t},cityChangeHandler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.currentCity=t,this.currentTown=null},fetchList:function(){return fetch("https://data.coa.gov.tw/Service/OpenData/ODwsv/ODwsvTravelFood.aspx").then((function(t){return t.json()})).catch((function(t){throw new Error(t)}))}},created:function(){var t=this;return(0,l.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.fetchList();case 3:t.list=e.sent,t.isLoading=!1;case 5:case"end":return e.stop()}}),e)})))()}},ut=ct,dt=(0,m.Z)(ut,r,i,!1,null,"228e44c9",null),_t=dt.exports,ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},pt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"AdvertisementBlock"},[n("img",{staticClass:"AdvertisementBlock__adImg",attrs:{src:o(6207)}}),n("img",{staticClass:"AdvertisementBlock__adImg",attrs:{src:o(559)}}),n("img",{staticClass:"AdvertisementBlock__adImg AdvertisementBlock__adImg--final",attrs:{src:o(9151)}})])}],vt={},ht=vt,mt=(0,m.Z)(ht,ft,pt,!1,null,"6c71c122",null),Ct=mt.exports,gt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},bt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("footer",{staticClass:"BaseFooter"},[o("h3",{staticClass:"BaseFooter__infoLabel"},[t._v("CMoney 全曜財經資訊")]),o("h4",{staticClass:"BaseFooter__infoLabel"},[o("span",[t._v("資訊來源: ")]),o("span",{staticClass:"BaseFooter__sourceLabel"},[t._v("政府資料開放平臺")])])])}],Ft={},yt=Ft,wt=(0,m.Z)(yt,gt,bt,!1,null,"14cdde61",null),Tt=wt.exports,Pt={name:"App",components:{FoodIntroduction:_t,AdvertisementBlock:Ct,BaseFooter:Tt}},Lt=Pt,Et=(0,m.Z)(Lt,a,s,!1,null,null,null),It=Et.exports;n.Z.config.productionTip=!1,new n.Z({render:function(t){return t(It)}}).$mount("#app")},4940:function(t,e,o){t.exports=o.p+"img/bars.619272df.svg"},6207:function(t,e,o){t.exports=o.p+"img/adv1.55686113.png"},559:function(t,e,o){t.exports=o.p+"img/adv2.e3dca8c2.png"},9151:function(t,e,o){t.exports=o.p+"img/adv3.baa631ac.png"}},e={};function o(n){var a=e[n];if(void 0!==a)return a.exports;var s=e[n]={id:n,loaded:!1,exports:{}};return t[n](s,s.exports,o),s.loaded=!0,s.exports}o.m=t,function(){var t=[];o.O=function(e,n,a,s){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],a=t[u][1],s=t[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&s||r>=s)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(i=!1,s<r&&(r=s));if(i){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[n,a,s]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){o.p="/homework/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,s,r=n[0],i=n[1],l=n[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(l)var u=l(o)}for(e&&e(n);c<r.length;c++)s=r[c],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(u)},n=self["webpackChunkhomework"]=self["webpackChunkhomework"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(5794)}));n=o.O(n)})();
//# sourceMappingURL=app-legacy.06d8f417.js.map