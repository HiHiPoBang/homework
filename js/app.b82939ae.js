(function(){"use strict";var t={5794:function(t,e,o){var a=o(8935),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"App",attrs:{id:"app"}},[t._m(0),o("main",{staticClass:"App__main"},[o("food-introduction",{staticClass:"App__foodIntroduction"}),o("advertisement-block",{staticClass:"App__advertisementBlock"})],1),o("BaseFooter",{staticClass:"App__footer"})],1)},n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("header",[o("h1",{staticClass:"App__title"},[t._v("農村地方美食小吃特色料理")])])}],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"FoodIntroduction"},[o("div",{staticClass:"FoodIntroduction__featureBar"},[o("div",{staticClass:"FoodIntroduction__selectGroup"},[o("base-select",{staticClass:"FoodIntroduction__select",attrs:{options:t.cityOptions,placeholder:"請選擇行政區域..."},on:{change:t.cityChangeHandler}}),o("base-select",{staticClass:"FoodIntroduction__select",attrs:{options:t.townOptions,placeholder:"請選擇鄉鎮區域..."},on:{change:function(e){t.currentTown=e}}})],1),o("div",{staticClass:"FoodIntroduction__modeTypes"},[o("label",{staticClass:"FoodIntroduction__modeLabel"},[t._v("檢視模式")]),o("button",{staticClass:"FoodIntroduction__modeButton",class:{"FoodIntroduction__modeButton--active":t.mode===t.MODE_TYPE_MAP.list},on:{click:function(e){return t.changeMode(t.MODE_TYPE_MAP.list)}}},[o("font-awesome-icon",{attrs:{icon:"fa-solid fa-list"}})],1),o("button",{staticClass:"FoodIntroduction__modeButton",class:{"FoodIntroduction__modeButton--active":t.mode===t.MODE_TYPE_MAP.table},on:{click:function(e){return t.changeMode(t.MODE_TYPE_MAP.table)}}},[o("font-awesome-icon",{attrs:{icon:"fa-solid fa-bars"}})],1),o("button",{staticClass:"FoodIntroduction__modeButton",class:{"FoodIntroduction__modeButton--active":t.mode===t.MODE_TYPE_MAP.card},on:{click:function(e){return t.changeMode(t.MODE_TYPE_MAP.card)}}},[o("font-awesome-icon",{attrs:{icon:"fa-solid fa-table-cells-large"}})],1)])]),o("div",{staticClass:"FoodIntroduction__introContainter"},[t.mode===t.MODE_TYPE_MAP.list?o("food-list",{staticClass:"FoodIntroduction__intro FoodIntroduction__intro--list",attrs:{list:t.listForRender}}):t.mode===t.MODE_TYPE_MAP.table?o("food-table",{staticClass:"FoodIntroduction__intro FoodIntroduction__intro--table",attrs:{list:t.listForRender}}):o("food-card-group",{staticClass:"FoodIntroduction__intro FoodIntroduction__intro--card",attrs:{list:t.listForRender}})],1),o("base-pagination",{staticClass:"FoodIntroduction__basePagination",attrs:{size:t.pageSize,total:t.listAfterFilter.length,currentPage:t.currentPage},on:{"change-page":function(e){t.currentPage=e.page}}}),o("loading-block",{attrs:{isLoading:t.isLoading}})],1)},r=[],l=(o(1703),o(81)),c=o(6978),u=o(9009),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("select",{directives:[{name:"model",rawName:"v-model",value:t.selectValue,expression:"selectValue"}],staticClass:"BaseSelect",on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectValue=e.target.multiple?o:o[0]},function(e){return t.$emit("change",t.selectValue)}]}},[o("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(t.placeholder))]),t._l(t.options,(function(e){return o("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])}))],2)},_=[],p={props:{placeholder:{type:String,default:"Choose"},options:{type:Array,default:()=>[]}},data(){return{selectValue:""}},watch:{options(){this.selectValue=""}}},f=p,v=o(1001),h=(0,v.Z)(f,d,_,!1,null,"63f8894c",null),m=h.exports,C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"FoodList"},t._l(t.list,(function(e){return o("div",{key:e.ID,staticClass:"FoodList__row"},[o("div",{staticClass:"FoodList__thumbnail"},[o("img",{attrs:{src:e.PicURL,alt:e.Name}})]),o("section",{staticClass:"FoodList__section"},[o("h1",{staticClass:"FoodList__name"},[t._v(t._s(e.Name))]),o("CityLabel",{staticClass:"FoodList__city",attrs:{city:e.City}}),o("TownLabel",{staticClass:"FoodList__town",attrs:{town:e.Town}}),o("p",{staticClass:"FoodList__feature",domProps:{innerHTML:t._s(e.FoodFeature)}})],1)])})),0)},b=[],g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{staticClass:"CityLabel"},[t._v(t._s(t.city))])},F=[],y={props:{city:{type:String}}},w=y,T=(0,v.Z)(w,g,F,!1,null,"7c20094d",null),P=T.exports,L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{staticClass:"TownLabel"},[t._v(t._s(t.town))])},E=[],I={props:{town:{type:String}}},A=I,B=(0,v.Z)(A,L,E,!1,null,"578f28fc",null),x=B.exports,k={components:{CityLabel:P,TownLabel:x},props:{list:{type:Array,default:()=>[]}}},O=k,M=(0,v.Z)(O,C,b,!1,null,"514647c3",null),$=M.exports,N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("table",{staticClass:"FoodTable"},[t._m(0),o("tbody",{staticClass:"FoodTable__body"},t._l(t.list,(function(e){return o("tr",{key:e.ID,staticClass:"FoodTable__row"},[o("th",{staticClass:"FoodTable__col FoodTable__col--no"},[t._v(t._s(e.No))]),o("th",{staticClass:"FoodTable__col FoodTable__col--city"},[t._v(t._s(e.City))]),o("th",{staticClass:"FoodTable__col FoodTable__col--town"},[t._v(t._s(e.Town))]),o("th",{staticClass:"FoodTable__col FoodTable__col--name"},[t._v(t._s(e.Name))]),o("th",{staticClass:"FoodTable__col FoodTable__col--address",attrs:{"data-content":e.Address}},[o("span",[t._v(t._s(e.Address))])])])})),0)])},D=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("thead",{staticClass:"FoodTable__header"},[o("tr",{staticClass:"FoodTable__row"},[o("th",{staticClass:"FoodTable__col FoodTable__col--no"},[t._v("編號")]),o("th",{staticClass:"FoodTable__col FoodTable__col--city"},[t._v("行政區域")]),o("th",{staticClass:"FoodTable__col FoodTable__col--town"},[t._v("鄉鎮區")]),o("th",{staticClass:"FoodTable__col FoodTable__col--name"},[t._v("商家")]),o("th",{staticClass:"FoodTable__col FoodTable__col--address"},[t._v("地址")])])])}],Z={props:{list:{type:Array,default:()=>[]}}},G=Z,S=(0,v.Z)(G,N,D,!1,null,"5f3fb9d2",null),j=S.exports,Y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"FoodCardGroup"},t._l(t.list,(function(e){return o("div",{key:e.ID,staticClass:"FoodCardGroup__card"},[o("img",{staticClass:"FoodCardGroup__img",attrs:{src:e.PicURL,alt:e.Name}}),o("section",{staticClass:"FoodCardGroup__section"},[o("CityLabel",{staticClass:"FoodCardGroup__city",attrs:{city:e.City}}),o("TownLabel",{staticClass:"FoodCardGroup__town",attrs:{town:e.Town}}),o("h4",{staticClass:"FoodCardGroup__name"},[t._v(t._s(e.Name))]),o("p",{staticClass:"FoodCardGroup__feature",domProps:{innerHTML:t._s(e.FoodFeature)}})],1)])})),0)},z=[],H={components:{CityLabel:P,TownLabel:x},props:{list:{type:Array,default:()=>[]}}},R=H,V=(0,v.Z)(R,Y,z,!1,null,"a27a5406",null),U=V.exports,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.totalPageNumber>0?o("div",{staticClass:"BasePagination"},[o("label",{staticClass:"BasePagination__label"},[t._v(t._s("美食頁次 "+t.currentPage+" / "+t.totalPageNumber))]),o("div",{staticClass:"BasePagination__pages"},t._l(t.totalPageNumber,(function(e){return o("button",{key:e,staticClass:"BasePagination__button",class:{"BasePagination__button--active":e===t.currentPage},on:{click:function(o){return t.pageChangeHandler(e)}}},[t._v(" "+t._s(e)+" ")])})),0)]):t._e()},q=[],K={props:{size:{type:Number,default:10,validator(t){return t>0}},total:{type:Number,default:1},currentPage:{type:Number,default:1}},computed:{totalPageNumber(){return this.total<=0?0:Math.ceil(this.total/this.size)}},methods:{pageChangeHandler(t=1){this.$emit("change-page",{page:t})}}},Q=K,W=(0,v.Z)(Q,J,q,!1,null,"7d7df64e",null),X=W.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("div",{staticClass:"LoadingBlock"},[a("img",{attrs:{src:o(4940),width:"50px"}}),a("p",{staticClass:"LoadingBlock__desp"},[t._v("資料下載中，請稍等！")])]):t._e()},et=[],ot={props:{isLoading:{type:Boolean,default:!1}}},at=ot,st=(0,v.Z)(at,tt,et,!1,null,"ce11b990",null),nt=st.exports;l.vI.add(c.Zrf,c.xiG,c.jJj);const it={list:"list",table:"table",card:"card"};var rt={components:{FontAwesomeIcon:u.GN,BaseSelect:m,FoodList:$,FoodTable:j,FoodCardGroup:U,BasePagination:X,LoadingBlock:nt},data(){return{MODE_TYPE_MAP:it,mode:it.list,list:[],currentCity:null,currentTown:null,currentPage:1,pageSize:10,isLoading:!1}},computed:{cityOptions(){return this.list.reduce(((t,e)=>{const o=t.findIndex((({value:t})=>t===e.City));if(-1===o)t.push({value:e.City,text:e.City,towns:[{value:e.Town,text:e.Town}]});else{const a=-1!==t[o].towns.findIndex((({value:t})=>t===e.Town));a||t[o].towns.push({value:e.Town,text:e.Town})}return t}),[])},townOptions(){const t=this.cityOptions.find((({value:t})=>t===this.currentCity));return t?.towns||[]},listAfterFilter(){const t=t=>t===this.currentCity,e=t=>!this.currentTown||t===this.currentTown,o=({City:o,Town:a})=>t(o)&&e(a);return this.currentCity?this.list.filter(o):this.list},listForRender(){const t=(t,e)=>({...t,No:e+1}),e=(this.currentPage-1)*this.pageSize,o=e+this.pageSize,a=(t,a)=>a>=e&&a<o;return this.listAfterFilter.map(t).filter(a)}},methods:{changeMode(t=""){this.mode=t},cityChangeHandler(t=""){this.currentCity=t,this.currentTown=null},fetchList(){return fetch("https://data.coa.gov.tw/Service/OpenData/ODwsv/ODwsvTravelFood.aspx").then((t=>t.json())).catch((t=>{throw new Error(t)}))}},async created(){this.isLoading=!0,this.list=await this.fetchList(),this.isLoading=!1}},lt=rt,ct=(0,v.Z)(lt,i,r,!1,null,"228e44c9",null),ut=ct.exports,dt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AdvertisementBlock"},[a("img",{staticClass:"AdvertisementBlock__adImg",attrs:{src:o(6207)}}),a("img",{staticClass:"AdvertisementBlock__adImg",attrs:{src:o(559)}}),a("img",{staticClass:"AdvertisementBlock__adImg AdvertisementBlock__adImg--final",attrs:{src:o(9151)}})])}],pt={},ft=pt,vt=(0,v.Z)(ft,dt,_t,!1,null,"6c71c122",null),ht=vt.exports,mt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ct=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("footer",{staticClass:"BaseFooter"},[o("h3",{staticClass:"BaseFooter__infoLabel"},[t._v("CMoney 全曜財經資訊")]),o("h4",{staticClass:"BaseFooter__infoLabel"},[o("span",[t._v("資訊來源: ")]),o("span",{staticClass:"BaseFooter__sourceLabel"},[t._v("政府資料開放平臺")])])])}],bt={},gt=bt,Ft=(0,v.Z)(gt,mt,Ct,!1,null,"14cdde61",null),yt=Ft.exports,wt={name:"App",components:{FoodIntroduction:ut,AdvertisementBlock:ht,BaseFooter:yt}},Tt=wt,Pt=(0,v.Z)(Tt,s,n,!1,null,null,null),Lt=Pt.exports;a.Z.config.productionTip=!1,new a.Z({render:t=>t(Lt)}).$mount("#app")},4940:function(t,e,o){t.exports=o.p+"img/bars.619272df.svg"},6207:function(t,e,o){t.exports=o.p+"img/adv1.55686113.png"},559:function(t,e,o){t.exports=o.p+"img/adv2.e3dca8c2.png"},9151:function(t,e,o){t.exports=o.p+"img/adv3.baa631ac.png"}},e={};function o(a){var s=e[a];if(void 0!==s)return s.exports;var n=e[a]={exports:{}};return t[a](n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,a,s,n){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],s=t[u][1],n=t[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&n||i>=n)&&Object.keys(o.O).every((function(t){return o.O[t](a[l])}))?a.splice(l--,1):(r=!1,n<i&&(i=n));if(r){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[a,s,n]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/homework/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,n,i=a[0],r=a[1],l=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(l)var u=l(o)}for(e&&e(a);c<i.length;c++)n=i[c],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(u)},a=self["webpackChunkhomework"]=self["webpackChunkhomework"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(5794)}));a=o.O(a)})();
//# sourceMappingURL=app.b82939ae.js.map